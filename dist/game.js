!function(t){var e={};function s(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,s){return e&&a(t.prototype,e),s&&a(t,s),t}var i;s(1);var r=function(){function t(e,s){n(this,t),this.context=e,this.urls=s,this.buffer=[]}return o(t,[{key:"loadingSound",value:function(t,e){var s=new XMLHttpRequest;s.open("get",t,!0),s.responseType="arraybuffer";var n=this;s.onload=function(){n.context.decodeAudioData(s.response,function(t){n.buffer[e]=t,e==n.urls.length-1&&n.loaded()})},s.send()}},{key:"loadAll",value:function(){var t=this;this.urls.forEach(function(e,s){t.loadingSound(e,s)})}},{key:"loaded",value:function(){document.getElementById("start").innerText="Start",document.getElementById("start").classList.remove("disabled")}},{key:"getSoundByIndex",value:function(t){return this.buffer[t]}}]),t}(),c=function(){function t(e,s){n(this,t),this.context=e,this.buffer=s}return o(t,[{key:"init",value:function(){this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.gainNode.gain.setValueAtTime(.8,this.context.currentTime)}},{key:"play",value:function(){this.init(),this.source.start(this.context.currentTime)}},{key:"stop",value:function(){this.gainNode.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+.5),this.source.stop(this.context.currentTime+.5)}}]),t}(),u=["https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/1.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/2.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/3.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/4.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/5.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/6.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/7.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/8.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/9.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/10.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/11.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/12.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/13.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/14.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/15.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/16.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/after.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/better.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/do it.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/never.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/faster.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/harder.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/hour.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/make it.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/makes us.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/more than.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/ever.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/our.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/over.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/stronger.wav","https://s3-us-west-2.amazonaws.com/s.cdpn.io/327091/work is.wav","http://localhost:8080/src/audio/daftpunkmix.mp3"];(new(function(){function t(){n(this,t)}return o(t,[{key:"init",value:function(){i=this,this.game="",this.frames=[],this.framesNames=[],this.changeSection=this.changeSection.bind(this),this.removeTransition=this.removeTransition.bind(this),this.playSounds=this.playSounds.bind(this),this.takeTest=this.takeTest.bind(this),this.restartGame=this.restartGame.bind(this),this.context=new(window.AudioContext||window.webkitAudioContext),this.buffer=new r(this.context,u),this.buffer.loadAll(),this.isBaseLoaded=!1,this.eventListener()}},{key:"eventListener",value:function(){var t=this;this.game=this.setupSteps(document.getElementById("Birthday")),document.getElementById("start").addEventListener("click",function(){t.initHarderBetter()}),document.querySelectorAll(".key").forEach(function(e){e.addEventListener("transitionend",t.removeTransition),e.addEventListener("click",t.playSounds)})}},{key:"setupSteps",value:function(t){for(var e=0;e<t.childNodes.length;e++){var s=t.childNodes[e].id;if(null!=s){var n=t.childNodes[e];n.classList.contains("frame")&&(this.frames[s]=n,this.framesNames.push(s))}}return{setFrameVisible:function(t){i.frames[t].classList.remove("hidden"),i.frames[t].classList.add("visible")},setFrameHidden:function(t){i.frames[t].classList.remove("visible"),i.frames[t].classList.add("hidden")}}}},{key:"changeSection",value:function(t,e){var s=this;document.getElementsByClassName("thomas")[0].classList.add("active"),document.getElementsByClassName("guy")[0].classList.add("active"),document.getElementsByTagName("splash")[0].classList.add("hideCont"),document.getElementById("start").classList.add("hideBoton"),setTimeout(function(){s.game.setFrameHidden(t),s.game.setFrameVisible(e)},3e3)}},{key:"initHarderBetter",value:function(){this.changeSection("introduction","gameTwo"),window.addEventListener("keydown",this.playSounds),document.getElementById("test-play").addEventListener("click",this.takeTest),document.getElementById("restart").addEventListener("click",this.restartGame)}},{key:"playSounds",value:function(t){var e=document.querySelectorAll('[data-key="'+t.keyCode+'"]'),s=t.target.closest("div");if(e.length>0||s){var n,a;e.length>0?(n=e[0],a=parseInt(n.attributes[0].value)):(n=s,a=parseInt(s.getAttribute("data-sound")),setTimeout(function(){s.classList.remove("playing")},100));var o=new c(this.context,this.buffer.getSoundByIndex(a));n.classList.add("playing"),o.play()}}},{key:"removeTransition",value:function(t){"transform"===t.propertyName&&t.target.classList.remove("playing")}},{key:"takeTest",value:function(){if(!this.isBaseLoaded)var t=new c(this.context,this.buffer.getSoundByIndex(u.length-1)),e=6,s=setInterval(function(){document.getElementsByClassName("counter")[0].classList.remove("hidden"),document.getElementById("counter-text").innerText=e,0===--e&&(t.play(),document.getElementsByClassName("counter")[0].classList.add("hidden"),clearInterval(s))},1e3);this.isBaseLoaded=!0}},{key:"restartGame",value:function(){location.reload(!1)}}]),t}())).init()},function(t,e,s){}]);